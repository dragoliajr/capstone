<body>
    <app-sidebar></app-sidebar>

    <main style="width: 100%;">
        <div class="card shadow-lg outer-card">
            <div class="container">
                <div class="row card">
                    <div class="col title">
                        <div class="card-header titleOfGoal" style="font-size: 24px; padding: 10px">{{goal.title}}</div>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <div class="card countdown-container">
                            <h5 class="card-header" style="margin-bottom: 10px; font-size: 12pt;">
                                Due Date: </h5>
                            <p id="goalDate" class="card-text date" style="margin-bottom: 10px; text-align:right">
                                {{goal.goalDate}}
                            </p>
                            <div class="count">
                                <p id="days" class="big-text">0</p>
                                <span>Days</span>
                            </div>
                            <div class="count">
                                <p id="hours" class="big-text">0</p>
                                <span>Hours</span>
                            </div>
                            <div class="count">
                                <p id="min" class="big-text">0</p>
                                <span>Minutes</span>
                            </div>
                            <div class="count">
                                <p id="sec" class="big-text">0</p>
                                <span>Seconds</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card">
                            <h5 class="card-header" style="font-size: 20px; padding: 10px; margin-bottom: 10px;">Goal
                                Description:
                            </h5>
                            <div class="card-body">
                                <p class="card-text">{{goal.description}}</p>

                                <div class="CRUDbuttons">
                                    <span class="update">
                                        <button (click)="goToUpdate(goal.id)" class="btn btn-primary">Update</button>
                                    </span>
                                    <span class="delete">
                                        <a (click)="deleteGoal(goal.id)" class="btn btn-primary">Delete</a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="col deposit">
                            <h5 class="card-header" style="margin-bottom: 10px; font-size: 12pt; text-align: left;">
                                Make a Deposit: </h5>
                            <div class="deposit-inner">
                                <input type="text" name="depositAmount" id="depositAmount" placeholder="$100.00" [(ngModel)]="depositAmount">
                                <!-- <div class="permissions">
                                    <div>
                                        <input type="checkbox" name="checkbox-one" id="checkbox-one" class="checkbox"
                                            required />
                                        <label for="checkbox-one" class="label">
                                            <div class="ball"></div>
                                        </label>
                                    </div>
                                    <div class="small">
                                    <small>I give permission for VANGOALD to withdrawl from the payment method on
                                        file.</small>
                                    </div>
                                </div> -->
                                <div class="depositBtn">
                                     <a (click)="addFund(depositAmount)"class="btn btn-primary">Deposit</a> 
                                    
                                </div>
                                
                            </div>
                            <div class="col withdrawl">

                                <h5 class="card-header" style="margin-bottom: 10px; font-size: 12pt; text-align: left;">
    
                                    Make a Withdrawl: </h5>
    
                                <div class="deposit-inner">
    
                                    <input type="text" name="withdrawlAmount" id="withdrawlAmount" placeholder="$100.00" [(ngModel)]="withdrawalAmount">
    
                               
    
                                    <div class="depositBtn" *ngIf="withdrawalAmount <= goal.fund; else elseBlock">
    
                                         <a (click)="withdrawFund(withdrawalAmount)"class="btn btn-primary">Withdrawl</a>
    
    
                                    </div>
                                    <ng-template #elseBlock>Insufficient funds</ng-template>
    
                                   
    
                                </div>
    
                               
    
                            </div>
                            
                        </div>
                        
                    </div>
                    <h1>total amount: {{(goal.amount - goal.fund)}}</h1> <br>
                    <div>Funds: {{goal.fund}}</div>
                </div>
                <div class="row card progress-card">
                    <div class="col">
                        <div class="progress" style="height: 30px">
                            <div class="progress-bar" role="progressbar" aria-label="Example with label"
                                style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
                        </div>
                    </div>

                </div>
            </div>


        </div>
        <script src="../goal-details/countdown.js">
        </script>
        <script src="../../Funds.js">
        </script>
    </main>

</body>